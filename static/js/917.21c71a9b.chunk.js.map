{"version":3,"file":"static/js/917.21c71a9b.chunk.js","mappings":"6KAIA,UAFe,kBAAM,SAAC,KAAD,CAAcA,OAAO,KAAKC,MAAM,KAAKC,MAAM,WAAjD,C,kICoEf,UA/DA,WAAmB,IAAD,EAChB,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAAuCC,EAAAA,EAAAA,MAAvC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,EAAK,UAAGJ,EAAaK,IAAI,gBAApB,QAAgC,GA2B3C,OAzBAC,EAAAA,EAAAA,YAAU,WAAM,wCACd,uFACgB,KAAVF,EADN,wDAIEN,GAAW,GAJb,kBAMyBS,EAAAA,iBAAqBH,GAN9C,OAMUT,EANV,OAOIC,EAAUD,EAAOa,SAPrB,kDASIC,QAAQC,IAAI,KAAMC,SATtB,yBAWIb,GAAW,GAXf,8EADc,uBAAC,WAAD,wBAedc,EACD,GAAE,CAACR,KAUF,6BACE,kBAAMS,SATa,SAAAC,GACrBA,EAAMC,iBACN,IAAMC,EAAOF,EAAMG,cACnBhB,EAAe,CAAEG,MAAOY,EAAKE,SAASd,MAAMe,QAC5CH,EAAKI,OACN,EAIG,WACE,kBAAOC,KAAK,OAAOC,KAAK,QAAQC,YAAY,mBAC5C,mBAAQF,KAAK,SAAb,uBAGDxB,IAAW,SAAC,UAAD,IACXF,IACC,wBACGA,EAAO6B,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,MAAP,OACV,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKF,GAAMG,MAAO,CAAEC,KAAM3B,GAAlC,SACGwB,KAFID,EADC,OAShB,SAAC,EAAAK,SAAD,CACEC,UACE,0BACE,SAAC,UAAD,MAHN,UAOE,SAAC,KAAD,QAIP,C,kRCpEDC,IAAAA,SAAAA,QAAyB,gCACzB,IAAMC,EAAW,mCAEJC,EAAS,mCAAG,oGACAF,IAAAA,IAAA,sCAAyCC,IADzC,cACjBE,EADiB,yBAEhBA,EAASC,MAFO,2CAAH,qDAKTC,EAAgB,mCAAG,WAAMjC,GAAN,uFACP4B,IAAAA,IAAA,+BACGC,EADH,kBACqB7B,IAFd,cACxB+B,EADwB,yBAIvBA,EAASC,MAJc,2CAAH,sDAOhBE,EAAa,mCAAG,WAAMC,GAAN,uFACJP,IAAAA,IAAA,gBAAmBO,EAAnB,oBAAuCN,IADnC,cACrBE,EADqB,yBAEpBA,EAASC,MAFW,2CAAH,sDAKbI,EAAgB,mCAAG,WAAMD,GAAN,uFACPP,IAAAA,IAAA,iBACXO,EADW,4BACiBN,IAFV,cACxBE,EADwB,yBAIvBA,EAASC,MAJc,2CAAH,sDAOhBK,EAAmB,mCAAG,WAAMF,GAAN,uFACVP,IAAAA,IAAA,iBACXO,EADW,4BACiBN,IAFP,cAC3BE,EAD2B,yBAI1BA,EAASC,MAJiB,2CAAH,qD","sources":["components/Loader/Loader.js","components/movieList/MovieList.js","components/services/app.js"],"sourcesContent":["import { BallTriangle } from 'react-loader-spinner';\n\nconst Loader = () => <BallTriangle height=\"50\" width=\"50\" color=\"#ff1693\" />;\n\nexport default Loader;\n","import { Outlet, Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { useEffect, useState, Suspense } from 'react';\nimport Loader from 'components/Loader/Loader';\nimport PropTypes from 'prop-types';\n\nimport * as API from '../services/app';\n\nfunction Movies() {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchParams, setSeachParams] = useSearchParams();\n  const location = useLocation();\n  const query = searchParams.get('query') ?? '';\n\n  useEffect(() => {\n    async function searchMovies() {\n      if (query === '') {\n        return;\n      }\n      setLoading(true);\n      try {\n        const movies = await API.getMoviesByQuery(query);\n        setMovies(movies.results);\n      } catch (error) {\n        console.log(error.message);\n      } finally {\n        setLoading(false);\n      }\n    }\n    searchMovies();\n  }, [query]);\n\n  const handleFilmName = event => {\n    event.preventDefault();\n    const form = event.currentTarget;\n    setSeachParams({ query: form.elements.query.value });\n    form.reset();\n  };\n\n  return (\n    <main>\n      <form onSubmit={handleFilmName}>\n        <input type=\"text\" name=\"query\" placeholder=\"Search movies\" />\n        <button type=\"submit\">Search</button>\n      </form>\n\n      {loading && <Loader />}\n      {movies && (\n        <ul>\n          {movies.map(({ id, title }) => (\n            <li key={id}>\n              <Link to={`${id}`} state={{ from: location }}>\n                {title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n      <Suspense\n        fallback={\n          <div>\n            <Loader />\n          </div>\n        }\n      >\n        <Outlet />\n      </Suspense>\n    </main>\n  );\n}\nexport default Movies;\n\nMovies.propTypes = {\n  movies: PropTypes.array,\n  loading: PropTypes.bool,\n  searchParams: PropTypes.string,\n  location: PropTypes.object,\n  query: PropTypes.string,\n  movie: PropTypes.object,\n  id: PropTypes.string,\n  title: PropTypes.string,\n  handleFilmName: PropTypes.func,\n};\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst BASE_KEY = '3c9b3437ebab156a512248e157c99300';\n\nexport const getMovies = async () => {\n  const response = await axios.get(`/trending/movie/day?api_key=${BASE_KEY}`);\n  return response.data;\n};\n\nexport const getMoviesByQuery = async query => {\n  const response = await axios.get(\n    `search/movie?api_key=${BASE_KEY}&query=${query}`\n  );\n  return response.data;\n};\n\nexport const getMoviesById = async moviesId => {\n  const response = await axios.get(`movie/${moviesId}?api_key=${BASE_KEY}`);\n  return response.data;\n};\n\nexport const getMoviesForCast = async moviesId => {\n  const response = await axios.get(\n    `/movie/${moviesId}/credits?api_key=${BASE_KEY}`\n  );\n  return response.data;\n};\n\nexport const getMoviesForReviews = async moviesId => {\n  const response = await axios.get(\n    `/movie/${moviesId}/reviews?api_key=${BASE_KEY}`\n  );\n  return response.data;\n};\n"],"names":["height","width","color","useState","movies","setMovies","loading","setLoading","useSearchParams","searchParams","setSeachParams","location","useLocation","query","get","useEffect","API","results","console","log","message","searchMovies","onSubmit","event","preventDefault","form","currentTarget","elements","value","reset","type","name","placeholder","map","id","title","to","state","from","Suspense","fallback","axios","BASE_KEY","getMovies","response","data","getMoviesByQuery","getMoviesById","moviesId","getMoviesForCast","getMoviesForReviews"],"sourceRoot":""}